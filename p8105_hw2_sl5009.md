p8105\_hw2\_sl5009
================
Shengzhi Luo
08/10/2021

## Prolem 1

Read and clean the Mr.Trash Wheel sheet

``` r
Mr_Trash_Wheel<-read_excel("./Trash-Wheel-Collection-Totals-7-2020-2.xlsx")
```

    ## New names:
    ## * `` -> ...15
    ## * `` -> ...16
    ## * `` -> ...17

``` r
Mr_Trash_Wheel=janitor::clean_names(Mr_Trash_Wheel)
```

``` r
drop_na(Mr_Trash_Wheel,dumpster)
```

    ## # A tibble: 454 × 17
    ##    dumpster month  year date                weight_tons volume_cubic_yards
    ##    <chr>    <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ##  1 1        May    2014 2014-05-16 00:00:00        4.31                 18
    ##  2 2        May    2014 2014-05-16 00:00:00        2.74                 13
    ##  3 3        May    2014 2014-05-16 00:00:00        3.45                 15
    ##  4 4        May    2014 2014-05-17 00:00:00        3.1                  15
    ##  5 5        May    2014 2014-05-17 00:00:00        4.06                 18
    ##  6 6        May    2014 2014-05-20 00:00:00        2.71                 13
    ##  7 7        May    2014 2014-05-21 00:00:00        1.91                  8
    ##  8 8        May    2014 2014-05-28 00:00:00        3.7                  16
    ##  9 9        June   2014 2014-06-05 00:00:00        2.52                 14
    ## 10 10       June   2014 2014-06-11 00:00:00        3.76                 18
    ## # … with 444 more rows, and 11 more variables: plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   grocery_bags <dbl>, chip_bags <dbl>, sports_balls <dbl>,
    ## #   homes_powered <dbl>, x15 <chr>, x16 <lgl>, x17 <lgl>

``` r
round(Mr_Trash_Wheel$sports_balls,digits = 0)
```

    ##   [1]    7    5    6    6    7    5    3    6   46    6    7    6    8    6    6
    ##  [16]    6    6    5   56    6    6    7    6    6    6    5   42    6    7    8
    ##  [31]    7    4   32    7    3    6   16    6    6    7    6    6   31    6    7
    ##  [46]    6    6   25    7    6    6   19    7    6    5   18    3    3    8   16
    ##  [61]   14   38   13   16    8    5    8   11    7    6   74    8   22   28   19
    ##  [76]   32   24  133   26   36   24    9   16   22   17   13   14   21   15   13
    ##  [91]   18   16   22   32   18   21   34   19   14  420   22   16   25   27   18
    ## [106]   20  128   17   56   32   22    6    3  136   17   13   12    7    8   57
    ## [121]   16   23   33   72   27   27   15   21    9   13   22   17   27    8  132
    ## [136]   17   17   14   21   26    6    4   16   87   24   23   18   46   38  149
    ## [151]   24   36   42   23   34  159   38   26   32   96   43   38   24   35   26
    ## [166]   29  195   31   28   34   26   38   25   16   24  222   15   31   22   28
    ## [181]   32  128   15   28   33   76   11   37   48   22   11   34   67    6   24
    ## [196]   20   15   65   22   22   19   12   31   14   18   10    6   48    8    8
    ## [211]    5    3    5    7    2    7    3    4    5    8   10    5    7    5    8
    ## [226]   10  110   11   14   12    8    5    9    5   14   78   12    8    7   27
    ## [241]   18   11   22   13   21   85   14    9    6   13   11    6    8    5   72
    ## [256]    6   12   18    8    7   15   13   11   24   12    8   20    6    4    6
    ## [271]   12   14    5    4    8    3   62    7   10   17   12    1    4    2    4
    ## [286]    3    4    3    4    2    5    1    3    2    4    2    3   59    4    5
    ## [301]    3    2    3    0    2    3    2    1    2   27    5    4    3    2    4
    ## [316]    2    8    3    2    2   35    3    1    5    3    1    2    7    4    5
    ## [331]    1    7    2    3   44    6    1    9    0    2   18   14   11    6    0
    ## [346]    4    9   16   14   74    8    8   11   27    6    4    0    4    9   14
    ## [361]    2    0    6   45    8    8    0    4   20   13   17   30    2   11   13
    ## [376]   14    9    0    6    6    3   38   11   14    4    8    1    4   42    8
    ## [391]   14    9    4    4   14   22    6    9   10    8  108   17    8   16   41
    ## [406]   11    8   20    7    8   18   14   22   12    4   14   32  170   10    4
    ## [421]   14    0    6   13   21   68    4   12   16   28   12   20    4    2   98
    ## [436]   12    2   11    4    1    0    3   33    9   12   21   16   12    8    6
    ## [451]   14    2    6   14   10   88    9    9   16    7   11   34    6   14    8
    ## [466]    4    4    2   14   19   71   16   22   12   50   24   12   10   10    1
    ## [481]   14    0    4    0    2    3    6   86   11   15   12    8   19   12   10
    ## [496]   87   24   16    9   10   16   75   12   20   18   50   21   24   14    8
    ## [511]   67   11    8    9   28   14   21   18   12   16   21   10   14   20    8
    ## [526]   28    0   14   15  211   12   12 5315

Read and clean precipitation data for 2018 and 2019

``` r
Mr_Trash_Wheel_2018<-filter(Mr_Trash_Wheel, year==2018)
Mr_Trash_Wheel_2018=janitor::clean_names(Mr_Trash_Wheel_2018)
drop.na=(Mr_Trash_Wheel_2018)
mutate(Mr_Trash_Wheel_2018, year=str_to_upper(year))
```

    ## # A tibble: 93 × 17
    ##    dumpster month    year  date                weight_tons volume_cubic_yards
    ##    <chr>    <chr>    <chr> <dttm>                    <dbl>              <dbl>
    ##  1 222      January  2018  2018-01-15 00:00:00        2.17                 15
    ##  2 223      January  2018  2018-01-25 00:00:00        2.08                 15
    ##  3 224      February 2018  2018-02-05 00:00:00        3.12                 18
    ##  4 225      February 2018  2018-02-05 00:00:00        2.45                 15
    ##  5 226      February 2018  2018-02-05 00:00:00        3.72                 15
    ##  6 227      February 2018  2018-02-06 00:00:00        4                    18
    ##  7 228      February 2018  2018-02-11 00:00:00        3.54                 15
    ##  8 229      February 2018  2018-02-11 00:00:00        3.19                 15
    ##  9 230      February 2018  2018-02-11 00:00:00        4.51                 18
    ## 10 231      February 2018  2018-02-13 00:00:00        2.97                 15
    ## # … with 83 more rows, and 11 more variables: plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   grocery_bags <dbl>, chip_bags <dbl>, sports_balls <dbl>,
    ## #   homes_powered <dbl>, x15 <chr>, x16 <lgl>, x17 <lgl>

``` r
Mr_Trash_Wheel_2019<-filter(Mr_Trash_Wheel, year==2019)
Mr_Trash_Wheel_2019=janitor::clean_names(Mr_Trash_Wheel_2019)
drop.na=(Mr_Trash_Wheel_2019)
```

## Problem 2

``` r
pols=
  read.csv("./fivethirtyeight_datasets/pols-month.csv")%>%
  separate(mon,into=c("year","month","day"))%>%
  mutate(
    president=prez_gop+prez_dem,
    month = month.abb[as.numeric(month)]
    )%>%
  select(-c("prez_gop","prez_dem","day"))
```

``` r
snp=
  read.csv("./fivethirtyeight_datasets/snp.csv")%>%
  separate(date,into=c("day","month","year"))%>%
  mutate(
    month = month.abb[as.numeric(month)]
    )%>%
  select(-c("day"))%>%
  relocate(year,month,close)%>%
  mutate(
    year=as.numeric(year),
    year=ifelse(year>47, 1900+year, 2000+year)
  )
```
